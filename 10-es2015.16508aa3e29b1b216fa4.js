(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{aXdg:function(t,e,n){"use strict";n.r(e),n.d(e,"TriviaModule",(function(){return w}));var i=n("2kYt"),r=n("sEIs"),o=n("EM62"),s=n("vobO"),c=n("YtkY"),a=n("ZTXN");class u{constructor(t){this.questions=t,this.currentLife=3,this.correctAnswerCount=0,this.incorrectAnswerCount=0,this.totalQuestionCount=0,this.gameOver$=new a.a,this.questions$=new a.a,this.life$=new a.a,this.questionsIterator=t[Symbol.iterator](),this.currentQuestion=this.questionsIterator.next().value,this.totalQuestionCount=this.questions.length}submitAnswer(t){t===this.currentQuestion.correct_answer?this.correctAnswerCount++:(alert("Sorry. Your answer is incorrect. The correct answer is "+this.currentQuestion.correct_answer+". Life Meter Count decreased"),this.incorrectAnswerCount++,this.currentLife--,this.life$.next(this.currentLife),1===this.currentLife&&alert("Warning - If you get the next question wrong, the game will be over for you since your life meter current life will be 0")),0===this.currentLife?this.gameOver$.next():(this.currentQuestion=this.questionsIterator.next().value,this.currentQuestion||(console.log("no more questions"),this.gameOver$.next()),this.questions$.next(this.currentQuestion))}}let b=(()=>{class t{constructor(t,e,n){this.httpClient=t,this.router=e,this.route=n,this.TRIVIA_CATEGORIES_URL="https://opentdb.com/api_category.php",this.TRIVIA_QUESTIONS_URL="https://opentdb.com/api.php",this.PARAM_AMOUNT="amount",this.PARAM_CATEGORY="category",this.PARAM_DIFFICULTY="difficulty",this.PARAM_TYPE="type",this.PARAM_ENCODING="encode"}startNewGame(t,e,n){this.getQuestions(t,e,n).subscribe(t=>{this.currentGame=new u(t),this.router.navigate(["trivia/question"],{relativeTo:this.route}),this.currentGame.gameOver$.subscribe(()=>this.router.navigate(["trivia/game-over"],{relativeTo:this.route}))})}getCategories(){return this.httpClient.get(this.TRIVIA_CATEGORIES_URL).pipe(Object(c.a)(t=>t.trivia_categories))}getQuestions(t,e,n){let i=new s.c;return i=i.append(this.PARAM_TYPE,"multiple"),i=i.append(this.PARAM_AMOUNT,n.toString()),i=i.append(this.PARAM_ENCODING,"base64"),void 0!==t&&(i=i.append(this.PARAM_CATEGORY,t.toString())),void 0!==e&&(i=i.append(this.PARAM_DIFFICULTY,e)),this.httpClient.get(this.TRIVIA_QUESTIONS_URL,{params:i}).pipe(Object(c.a)(t=>t.results.map(t=>({category:atob(t.category),correct_answer:atob(t.correct_answer),incorrect_answers:t.incorrect_answers.map(t=>atob(t)),question:atob(t.question),difficulty:atob(t.difficulty),type:atob(t.type)}))))}}return t.\u0275fac=function(e){return new(e||t)(o.Yb(s.a),o.Yb(r.g),o.Yb(r.a))},t.\u0275prov=o.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var l=n("nIj0");function d(t,e){if(1&t&&(o.Qb(0,"option",5),o.zc(1),o.Pb()),2&t){const t=e.$implicit;o.ic("value",t.id),o.yb(1),o.Ac(t.name)}}function f(t,e){if(1&t&&(o.Qb(0,"option",5),o.zc(1),o.Pb()),2&t){const t=e.$implicit;o.ic("value",t),o.yb(1),o.Ac(t)}}function h(t,e){if(1&t&&(o.Qb(0,"option",5),o.zc(1),o.Pb()),2&t){const t=e.$implicit;o.ic("value",t),o.yb(1),o.Ac(t)}}let g=(()=>{class t{constructor(t){this.triviaGameService=t,this.difficulties=["easy","medium","hard"],this.numberOfQuestions=[1,2,5,10],this.selectedDifficulty="easy",this.selectedAmount=5}ngOnInit(){this.triviaGameService.getCategories().subscribe(t=>{this.triviaCategories=t,this.selectedCategoryId=this.triviaCategories[0].id})}onStart(){this.triviaGameService.startNewGame(this.selectedCategoryId,this.selectedDifficulty,this.selectedAmount)}}return t.\u0275fac=function(e){return new(e||t)(o.Lb(b))},t.\u0275cmp=o.Fb({type:t,selectors:[["frontend-sessions-start-screen"]],decls:20,vars:6,consts:[[1,"subtitle"],["id","category",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["id","difficulty",3,"ngModel","ngModelChange"],["id","start",3,"click"],[3,"value"]],template:function(t,e){1&t&&(o.Qb(0,"p"),o.zc(1,"Welcome!"),o.Pb(),o.Qb(2,"div",0),o.zc(3," Select a Category\n"),o.Pb(),o.Qb(4,"div"),o.Qb(5,"select",1),o.bc("ngModelChange",(function(t){return e.selectedCategoryId=t})),o.xc(6,d,2,2,"option",2),o.Pb(),o.Pb(),o.Qb(7,"div",0),o.zc(8," Select a Difficulty\n"),o.Pb(),o.Qb(9,"div"),o.Qb(10,"select",3),o.bc("ngModelChange",(function(t){return e.selectedDifficulty=t})),o.xc(11,f,2,2,"option",2),o.Pb(),o.Pb(),o.Qb(12,"div",0),o.zc(13," Select Number of Questions\n"),o.Pb(),o.Qb(14,"div"),o.Qb(15,"select",3),o.bc("ngModelChange",(function(t){return e.selectedAmount=t})),o.xc(16,h,2,2,"option",2),o.Pb(),o.Pb(),o.Qb(17,"div"),o.Qb(18,"button",4),o.bc("click",(function(){return e.onStart()})),o.zc(19,"Start!"),o.Pb(),o.Pb()),2&t&&(o.yb(5),o.ic("ngModel",e.selectedCategoryId),o.yb(1),o.ic("ngForOf",e.triviaCategories),o.yb(4),o.ic("ngModel",e.selectedDifficulty),o.yb(1),o.ic("ngForOf",e.difficulties),o.yb(4),o.ic("ngModel",e.selectedAmount),o.yb(1),o.ic("ngForOf",e.numberOfQuestions))},directives:[l.m,l.h,l.j,i.k,l.k,l.o],styles:["p[_ngcontent-%COMP%]{font-weight:700;font-size:5em}.subtitle[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:Helvetica,sans-serif;text-align:center}.subtitle[_ngcontent-%COMP%]{font-size:2em;padding-bottom:.2em}select[_ngcontent-%COMP%]{font-size:1.5em;border-color:#42f4ee;background-color:#bff;border-radius:5px}option[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{align-content:center;color:#23252d}option[_ngcontent-%COMP%]{background-color:#dff}div[_ngcontent-%COMP%]{text-align:center;margin:auto;padding-bottom:4em}button[_ngcontent-%COMP%]{background-color:#42f4ef;border-color:#42f4ee;border-radius:5px;font-weight:300;font-size:2.5em;color:#23252d;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}"]}),t})(),m=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Fb({type:t,selectors:[["frontend-sessions-life-meter"]],inputs:{life:"life"},decls:4,vars:1,template:function(t,e){1&t&&(o.Qb(0,"h2"),o.zc(1,"Life Meter:"),o.Pb(),o.Qb(2,"div"),o.zc(3),o.Pb()),2&t&&(o.yb(3),o.Bc("Current life: ",e.life,""))},styles:[""]}),t})();function v(t,e){if(1&t&&(o.Qb(0,"div"),o.zc(1),o.Pb()),2&t){const t=o.dc();o.yb(1),o.Bc('My guess: "',t.chosenAnswer,'"')}}const p=[{path:"question",component:(()=>{class t{constructor(t){this.triviaGameService=t,this.chosenAnswer=""}ngOnInit(){this.question=this.triviaGameService.currentGame.currentQuestion,this.triviaGameService.currentGame.questions$.subscribe(t=>this.question=t),this.life=this.triviaGameService.currentGame.currentLife,this.triviaGameService.currentGame.life$.subscribe(t=>this.life=t)}chooseAnswer(t){this.chosenAnswer=t}onSubmit(){this.triviaGameService.currentGame.submitAnswer(this.chosenAnswer),this.chosenAnswer=""}}return t.\u0275fac=function(e){return new(e||t)(o.Lb(b))},t.\u0275cmp=o.Fb({type:t,selectors:[["frontend-sessions-question-screen"]],decls:26,vars:8,consts:[[3,"life"],[1,"question"],[1,"answer",3,"click"],[4,"ngIf"],[1,"submit",3,"disabled","click"]],template:function(t,e){1&t&&(o.Mb(0,"frontend-sessions-life-meter",0),o.Mb(1,"div"),o.Mb(2,"div"),o.Mb(3,"div"),o.Mb(4,"div"),o.Qb(5,"div",1),o.zc(6),o.Pb(),o.Qb(7,"div"),o.Qb(8,"button",2),o.bc("click",(function(){return e.chooseAnswer(e.question.correct_answer)})),o.zc(9),o.Pb(),o.Pb(),o.Qb(10,"div"),o.Qb(11,"button",2),o.bc("click",(function(){return e.chooseAnswer(e.question.incorrect_answers[0])})),o.zc(12),o.Pb(),o.Pb(),o.Qb(13,"div"),o.Qb(14,"button",2),o.bc("click",(function(){return e.chooseAnswer(e.question.incorrect_answers[1])})),o.zc(15),o.Pb(),o.Pb(),o.Qb(16,"div"),o.Qb(17,"button",2),o.bc("click",(function(){return e.chooseAnswer(e.question.incorrect_answers[2])})),o.zc(18),o.Pb(),o.Pb(),o.xc(19,v,2,1,"div",3),o.Mb(20,"div"),o.Mb(21,"div"),o.Mb(22,"div"),o.Qb(23,"div"),o.Qb(24,"button",4),o.bc("click",(function(){return e.onSubmit()})),o.zc(25,"Submit"),o.Pb(),o.Pb()),2&t&&(o.ic("life",e.life),o.yb(6),o.Bc("Q: ",e.question.question,""),o.yb(3),o.Bc("A) ",e.question.correct_answer,""),o.yb(3),o.Bc("B) ",e.question.incorrect_answers[0],""),o.yb(3),o.Bc("C) ",e.question.incorrect_answers[1],""),o.yb(3),o.Bc("D) ",e.question.incorrect_answers[2],""),o.yb(1),o.ic("ngIf",e.chosenAnswer),o.yb(5),o.ic("disabled",!e.chosenAnswer))},directives:[m,i.l],styles:[".question[_ngcontent-%COMP%]{font-size:2em;text-align:justify;padding-bottom:.7em;padding-left:1em;padding-right:1em}.question[_ngcontent-%COMP%], div[_ngcontent-%COMP%]{font-family:Helvetica,sans-serif}div[_ngcontent-%COMP%]{margin:auto;font-size:1em;text-align:center;padding-bottom:.5em}button[_ngcontent-%COMP%]{align-content:center;border-color:#42f4ee;color:#23252d;border-radius:5px}.answer[_ngcontent-%COMP%]{width:70%;font-weight:100;font-family:monospace;font-size:2em;text-align:left;background-color:#bff}.submit[_ngcontent-%COMP%]{background-color:#42f4ef;font-weight:300;font-size:2.5em;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}"]}),t})()},{path:"game-over",component:(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.triviaGameService=n}ngOnInit(){this.correctAnswerCount=this.triviaGameService.currentGame.correctAnswerCount,this.incorrectAnswerCount=this.triviaGameService.currentGame.incorrectAnswerCount,this.totalQuestionCount=this.triviaGameService.currentGame.totalQuestionCount,this.percent=(100*Number(this.correctAnswerCount/this.totalQuestionCount)).toFixed(2)}onNewGame(){this.router.navigate(["trivia/start"],{relativeTo:this.route})}}return t.\u0275fac=function(e){return new(e||t)(o.Lb(r.g),o.Lb(r.a),o.Lb(b))},t.\u0275cmp=o.Fb({type:t,selectors:[["frontend-sessions-game-over"]],decls:26,vars:4,consts:[[1,"table"],["scope","row"],[3,"click"]],template:function(t,e){1&t&&(o.Qb(0,"div"),o.Qb(1,"p"),o.zc(2,"GAME SCORE"),o.Pb(),o.Qb(3,"h2"),o.zc(4),o.Pb(),o.Qb(5,"table",0),o.Mb(6,"thead"),o.Qb(7,"tbody"),o.Qb(8,"tr"),o.Qb(9,"th",1),o.zc(10,"Total Questions"),o.Pb(),o.Qb(11,"td"),o.zc(12),o.Pb(),o.Pb(),o.Qb(13,"tr"),o.Qb(14,"th",1),o.zc(15,"Correct Answers"),o.Pb(),o.Qb(16,"td"),o.zc(17),o.Pb(),o.Pb(),o.Qb(18,"tr"),o.Qb(19,"th",1),o.zc(20,"Incorrect Answers"),o.Pb(),o.Qb(21,"td"),o.zc(22),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Qb(23,"div"),o.Qb(24,"button",2),o.bc("click",(function(){return e.onNewGame()})),o.zc(25,"New Game"),o.Pb(),o.Pb()),2&t&&(o.yb(4),o.Bc("",e.percent," %"),o.yb(8),o.Ac(e.totalQuestionCount),o.yb(5),o.Ac(e.correctAnswerCount),o.yb(5),o.Ac(e.incorrectAnswerCount))},styles:["p[_ngcontent-%COMP%]{font-family:Helvetica,sans-serif;font-weight:700;font-size:5em;padding:0}div[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{text-align:center}div[_ngcontent-%COMP%]{margin:auto}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:5%;padding-bottom:0;font-size:10em}button[_ngcontent-%COMP%]{background-color:#42f4ef;border-color:#42f4ee;border-radius:5px;font-weight:300;font-size:2.5em;color:#23252d;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}"]}),t})()},{path:"**",component:g}];let P=(()=>{class t{}return t.\u0275mod=o.Jb({type:t}),t.\u0275inj=o.Ib({factory:function(e){return new(e||t)},imports:[[r.i.forChild(p)],r.i]}),t})(),w=(()=>{class t{}return t.\u0275mod=o.Jb({type:t}),t.\u0275inj=o.Ib({factory:function(e){return new(e||t)},imports:[[P,s.b,l.e,i.c]]}),t})()}}]);