(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{aXdg:function(e,t,n){"use strict";n.r(t),n.d(t,"TriviaModule",(function(){return y}));var i=n("2kYt"),o=n("sEIs"),s=n("EM62"),r=n("vobO"),c=n("YtkY"),a=n("ZTXN");class u{constructor(e){this.questions=e,this.currentLife=3,this.correctAnswerCount=0,this.gameOver$=new a.a,this.questions$=new a.a,this.life$=new a.a,this.questionsIterator=e[Symbol.iterator](),this.currentQuestion=this.questionsIterator.next().value}submitAnswer(e){e===this.currentQuestion.correct_answer?this.correctAnswerCount++:(this.currentLife--,this.life$.next(this.currentLife)),0===this.currentLife?this.gameOver$.next():(this.currentQuestion=this.questionsIterator.next().value,this.questions$.next(this.currentQuestion))}}let b=(()=>{class e{constructor(e,t,n){this.httpClient=e,this.router=t,this.route=n,this.TRIVIA_CATEGORIES_URL="https://opentdb.com/api_category.php",this.TRIVIA_QUESTIONS_URL="https://opentdb.com/api.php",this.PARAM_AMOUNT="amount",this.PARAM_CATEGORY="category",this.PARAM_DIFFICULTY="difficulty",this.PARAM_TYPE="type",this.PARAM_ENCODING="encode"}startNewGame(e,t,n){this.getQuestions(e,t,n).subscribe(e=>{this.currentGame=new u(e),this.router.navigate(["trivia/question"],{relativeTo:this.route}),this.currentGame.gameOver$.subscribe(()=>this.router.navigate(["trivia/game-over"],{relativeTo:this.route}))})}getCategories(){return this.httpClient.get(this.TRIVIA_CATEGORIES_URL).pipe(Object(c.a)(e=>e.trivia_categories))}getQuestions(e,t,n){let i=new r.c;return i=i.append(this.PARAM_TYPE,"multiple"),i=i.append(this.PARAM_AMOUNT,n.toString()),i=i.append(this.PARAM_ENCODING,"base64"),void 0!==e&&(i=i.append(this.PARAM_CATEGORY,e.toString())),void 0!==t&&(i=i.append(this.PARAM_DIFFICULTY,t)),this.httpClient.get(this.TRIVIA_QUESTIONS_URL,{params:i}).pipe(Object(c.a)(e=>e.results.map(e=>({category:atob(e.category),correct_answer:atob(e.correct_answer),incorrect_answers:e.incorrect_answers.map(e=>atob(e)),question:atob(e.question),difficulty:atob(e.difficulty),type:atob(e.type)}))))}}return e.\u0275fac=function(t){return new(t||e)(s.Yb(r.a),s.Yb(o.g),s.Yb(o.a))},e.\u0275prov=s.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var d=n("nIj0");function l(e,t){if(1&e&&(s.Qb(0,"option",5),s.zc(1),s.Pb()),2&e){const e=t.$implicit;s.ic("value",e.id),s.yb(1),s.Ac(e.name)}}function f(e,t){if(1&e&&(s.Qb(0,"option",5),s.zc(1),s.Pb()),2&e){const e=t.$implicit;s.ic("value",e),s.yb(1),s.Ac(e)}}function g(e,t){if(1&e&&(s.Qb(0,"option",5),s.zc(1),s.Pb()),2&e){const e=t.$implicit;s.ic("value",e),s.yb(1),s.Ac(e)}}let h=(()=>{class e{constructor(e){this.triviaGameService=e,this.difficulties=["easy","medium","hard"],this.numberOfQuestions=[1,2,5,10],this.selectedDifficulty="easy",this.selectedAmount=5}ngOnInit(){this.triviaGameService.getCategories().subscribe(e=>{this.triviaCategories=e,this.selectedCategoryId=this.triviaCategories[0].id})}onStart(){this.triviaGameService.startNewGame(this.selectedCategoryId,this.selectedDifficulty,this.selectedAmount)}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(b))},e.\u0275cmp=s.Fb({type:e,selectors:[["frontend-sessions-start-screen"]],decls:20,vars:6,consts:[[1,"subtitle"],["id","category",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["id","difficulty",3,"ngModel","ngModelChange"],["id","start",3,"click"],[3,"value"]],template:function(e,t){1&e&&(s.Qb(0,"p"),s.zc(1,"Welcome!"),s.Pb(),s.Qb(2,"div",0),s.zc(3," Select a Category\n"),s.Pb(),s.Qb(4,"div"),s.Qb(5,"select",1),s.bc("ngModelChange",(function(e){return t.selectedCategoryId=e})),s.xc(6,l,2,2,"option",2),s.Pb(),s.Pb(),s.Qb(7,"div",0),s.zc(8," Select a Difficulty\n"),s.Pb(),s.Qb(9,"div"),s.Qb(10,"select",3),s.bc("ngModelChange",(function(e){return t.selectedDifficulty=e})),s.xc(11,f,2,2,"option",2),s.Pb(),s.Pb(),s.Qb(12,"div",0),s.zc(13," Select Number of Questions\n"),s.Pb(),s.Qb(14,"div"),s.Qb(15,"select",3),s.bc("ngModelChange",(function(e){return t.selectedAmount=e})),s.xc(16,g,2,2,"option",2),s.Pb(),s.Pb(),s.Qb(17,"div"),s.Qb(18,"button",4),s.bc("click",(function(){return t.onStart()})),s.zc(19,"Start!"),s.Pb(),s.Pb()),2&e&&(s.yb(5),s.ic("ngModel",t.selectedCategoryId),s.yb(1),s.ic("ngForOf",t.triviaCategories),s.yb(4),s.ic("ngModel",t.selectedDifficulty),s.yb(1),s.ic("ngForOf",t.difficulties),s.yb(4),s.ic("ngModel",t.selectedAmount),s.yb(1),s.ic("ngForOf",t.numberOfQuestions))},directives:[d.m,d.h,d.j,i.k,d.k,d.o],styles:["p[_ngcontent-%COMP%]{font-weight:700;font-size:5em}.subtitle[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:Helvetica,sans-serif;text-align:center}.subtitle[_ngcontent-%COMP%]{font-size:2em;padding-bottom:.2em}select[_ngcontent-%COMP%]{font-size:1.5em;border-color:#42f4ee;background-color:#bff;border-radius:5px}option[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{align-content:center;color:#23252d}option[_ngcontent-%COMP%]{background-color:#dff}div[_ngcontent-%COMP%]{text-align:center;margin:auto;padding-bottom:4em}button[_ngcontent-%COMP%]{background-color:#42f4ef;border-color:#42f4ee;border-radius:5px;font-weight:300;font-size:2.5em;color:#23252d;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}"]}),e})(),m=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Fb({type:e,selectors:[["frontend-sessions-life-meter"]],inputs:{life:"life"},decls:4,vars:1,template:function(e,t){1&e&&(s.Qb(0,"h2"),s.zc(1,"Life Meter:"),s.Pb(),s.Qb(2,"div"),s.zc(3),s.Pb()),2&e&&(s.yb(3),s.Bc("Current life: ",t.life,""))},styles:[""]}),e})();function v(e,t){if(1&e&&(s.Qb(0,"div"),s.zc(1),s.Pb()),2&e){const e=s.dc();s.yb(1),s.Bc('My guess: "',e.chosenAnswer,'"')}}const p=[{path:"question",component:(()=>{class e{constructor(e){this.triviaGameService=e,this.chosenAnswer=""}ngOnInit(){this.question=this.triviaGameService.currentGame.currentQuestion,this.triviaGameService.currentGame.questions$.subscribe(e=>this.question=e),this.life=this.triviaGameService.currentGame.currentLife,this.triviaGameService.currentGame.life$.subscribe(e=>this.life=e)}chooseAnswer(e){this.chosenAnswer=e}onSubmit(){this.triviaGameService.currentGame.submitAnswer(this.chosenAnswer),this.chosenAnswer=""}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(b))},e.\u0275cmp=s.Fb({type:e,selectors:[["frontend-sessions-question-screen"]],decls:26,vars:8,consts:[[3,"life"],[1,"question"],[1,"answer",3,"click"],[4,"ngIf"],[1,"submit",3,"disabled","click"]],template:function(e,t){1&e&&(s.Mb(0,"frontend-sessions-life-meter",0),s.Mb(1,"div"),s.Mb(2,"div"),s.Mb(3,"div"),s.Mb(4,"div"),s.Qb(5,"div",1),s.zc(6),s.Pb(),s.Qb(7,"div"),s.Qb(8,"button",2),s.bc("click",(function(){return t.chooseAnswer(t.question.correct_answer)})),s.zc(9),s.Pb(),s.Pb(),s.Qb(10,"div"),s.Qb(11,"button",2),s.bc("click",(function(){return t.chooseAnswer(t.question.incorrect_answers[0])})),s.zc(12),s.Pb(),s.Pb(),s.Qb(13,"div"),s.Qb(14,"button",2),s.bc("click",(function(){return t.chooseAnswer(t.question.incorrect_answers[1])})),s.zc(15),s.Pb(),s.Pb(),s.Qb(16,"div"),s.Qb(17,"button",2),s.bc("click",(function(){return t.chooseAnswer(t.question.incorrect_answers[2])})),s.zc(18),s.Pb(),s.Pb(),s.xc(19,v,2,1,"div",3),s.Mb(20,"div"),s.Mb(21,"div"),s.Mb(22,"div"),s.Qb(23,"div"),s.Qb(24,"button",4),s.bc("click",(function(){return t.onSubmit()})),s.zc(25,"Submit"),s.Pb(),s.Pb()),2&e&&(s.ic("life",t.life),s.yb(6),s.Bc("Q: ",t.question.question,""),s.yb(3),s.Bc("A) ",t.question.correct_answer,""),s.yb(3),s.Bc("B) ",t.question.incorrect_answers[0],""),s.yb(3),s.Bc("C) ",t.question.incorrect_answers[1],""),s.yb(3),s.Bc("D) ",t.question.incorrect_answers[2],""),s.yb(1),s.ic("ngIf",t.chosenAnswer),s.yb(5),s.ic("disabled",!t.chosenAnswer))},directives:[m,i.l],styles:[".question[_ngcontent-%COMP%]{font-size:2em;text-align:justify;padding-bottom:.7em;padding-left:1em;padding-right:1em}.question[_ngcontent-%COMP%], div[_ngcontent-%COMP%]{font-family:Helvetica,sans-serif}div[_ngcontent-%COMP%]{margin:auto;font-size:1em;text-align:center;padding-bottom:.5em}button[_ngcontent-%COMP%]{align-content:center;border-color:#42f4ee;color:#23252d;border-radius:5px}.answer[_ngcontent-%COMP%]{width:70%;font-weight:100;font-family:monospace;font-size:2em;text-align:left;background-color:#bff}.submit[_ngcontent-%COMP%]{background-color:#42f4ef;font-weight:300;font-size:2.5em;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}"]}),e})()},{path:"game-over",component:(()=>{class e{constructor(e,t){this.router=e,this.route=t}ngOnInit(){}onNewGame(){this.router.navigate(["trivia/start"],{relativeTo:this.route})}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(o.g),s.Lb(o.a))},e.\u0275cmp=s.Fb({type:e,selectors:[["frontend-sessions-game-over"]],decls:6,vars:0,consts:[[3,"click"]],template:function(e,t){1&e&&(s.Qb(0,"div"),s.Qb(1,"p"),s.zc(2,"GAME OVER"),s.Pb(),s.Pb(),s.Qb(3,"div"),s.Qb(4,"button",0),s.bc("click",(function(){return t.onNewGame()})),s.zc(5,"New Game"),s.Pb(),s.Pb())},styles:["p[_ngcontent-%COMP%]{font-family:Helvetica,sans-serif;font-weight:700;font-size:5em;padding-bottom:5em}div[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{text-align:center}div[_ngcontent-%COMP%]{margin:auto}button[_ngcontent-%COMP%]{background-color:#42f4ef;border-color:#42f4ee;border-radius:5px;font-weight:300;font-size:2.5em;color:#23252d;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}"]}),e})()},{path:"**",component:h}];let P=(()=>{class e{}return e.\u0275mod=s.Jb({type:e}),e.\u0275inj=s.Ib({factory:function(t){return new(t||e)},imports:[[o.i.forChild(p)],o.i]}),e})(),y=(()=>{class e{}return e.\u0275mod=s.Jb({type:e}),e.\u0275inj=s.Ib({factory:function(t){return new(t||e)},imports:[[P,r.b,d.e,i.c]]}),e})()}}]);