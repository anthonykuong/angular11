!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{aXdg:function(t,i,r){"use strict";r.r(i),r.d(i,"TriviaModule",(function(){return G}));var o,s=r("2kYt"),c=r("sEIs"),a=r("EM62"),u=r("vobO"),f=r("YtkY"),b=r("ZTXN"),l=function(){function t(n){e(this,t),this.questions=n,this.currentLife=3,this.correctAnswerCount=0,this.incorrectAnswerCount=0,this.totalQuestionCount=0,this.gameOver$=new b.a,this.questions$=new b.a,this.life$=new b.a,this.questionsIterator=n[Symbol.iterator](),this.currentQuestion=this.questionsIterator.next().value,this.createCurrentAnswers(),this.totalQuestionCount=this.questions.length}return n(t,[{key:"createCurrentAnswers",value:function(){this.currentQuestion.shuffled_answers=[],this.currentQuestion.shuffled_answers.push(this.currentQuestion.correct_answer),this.currentQuestion.shuffled_answers.push(this.currentQuestion.incorrect_answers[0]),this.currentQuestion.incorrect_answers.length>1&&(this.currentQuestion.shuffled_answers.push(this.currentQuestion.incorrect_answers[1]),this.currentQuestion.shuffled_answers.push(this.currentQuestion.incorrect_answers[2])),this.shuffleArray(this.currentQuestion.shuffled_answers)}},{key:"shuffleArray",value:function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),i=[e[n],e[t]];e[t]=i[0],e[n]=i[1]}}},{key:"submitAnswer",value:function(e){e===this.currentQuestion.correct_answer?this.correctAnswerCount++:(alert("Sorry. Your answer is incorrect. The correct answer is "+this.currentQuestion.correct_answer+". Life Meter Count decreased"),this.incorrectAnswerCount++,this.currentLife--,this.life$.next(this.currentLife),1===this.currentLife&&alert("Warning - If you get the next question wrong, the game will be over for you since your life meter current life will be 0")),0===this.currentLife?this.gameOver$.next():(this.currentQuestion=this.questionsIterator.next().value,this.currentQuestion?(this.createCurrentAnswers(),this.shuffleArray(this.currentQuestion.shuffled_answers),this.questions$.next(this.currentQuestion)):(console.log("no more questions"),this.gameOver$.next()))}}]),t}(),d=((o=function(){function t(n,i,r){e(this,t),this.httpClient=n,this.router=i,this.route=r,this.TRIVIA_CATEGORIES_URL="https://opentdb.com/api_category.php",this.TRIVIA_QUESTIONS_URL="https://opentdb.com/api.php",this.PARAM_AMOUNT="amount",this.PARAM_CATEGORY="category",this.PARAM_DIFFICULTY="difficulty",this.PARAM_TYPE="type",this.PARAM_ENCODING="encode"}return n(t,[{key:"startNewGame",value:function(e,t,n){var i=this;this.getQuestions(e,t,n).subscribe((function(e){i.currentGame=new l(e),i.router.navigate(["trivia/question"],{relativeTo:i.route}),i.currentGame.gameOver$.subscribe((function(){return i.router.navigate(["trivia/game-over"],{relativeTo:i.route})}))}))}},{key:"getCategories",value:function(){return this.httpClient.get(this.TRIVIA_CATEGORIES_URL).pipe(Object(f.a)((function(e){return e.trivia_categories})))}},{key:"getQuestions",value:function(e,t,n){var i=new u.c;return i=(i=i.append(this.PARAM_AMOUNT,n.toString())).append(this.PARAM_ENCODING,"base64"),void 0!==e&&(i=i.append(this.PARAM_CATEGORY,e.toString())),void 0!==t&&(i=i.append(this.PARAM_DIFFICULTY,t)),this.httpClient.get(this.TRIVIA_QUESTIONS_URL,{params:i}).pipe(Object(f.a)((function(e){return e.results.map((function(e){return{category:atob(e.category),correct_answer:atob(e.correct_answer),incorrect_answers:e.incorrect_answers.map((function(e){return atob(e)})),question:atob(e.question),difficulty:atob(e.difficulty),type:atob(e.type)}}))})))}}]),t}()).\u0275fac=function(e){return new(e||o)(a.Yb(u.a),a.Yb(c.g),a.Yb(c.a))},o.\u0275prov=a.Hb({token:o,factory:o.\u0275fac,providedIn:"root"}),o),h=r("nIj0");function g(e,t){if(1&e&&(a.Qb(0,"option",5),a.zc(1),a.Pb()),2&e){var n=t.$implicit;a.ic("value",n.id),a.yb(1),a.Ac(n.name)}}function m(e,t){if(1&e&&(a.Qb(0,"option",5),a.zc(1),a.Pb()),2&e){var n=t.$implicit;a.ic("value",n),a.yb(1),a.Ac(n)}}function v(e,t){if(1&e&&(a.Qb(0,"option",5),a.zc(1),a.Pb()),2&e){var n=t.$implicit;a.ic("value",n),a.yb(1),a.Ac(n)}}var p,y,w=((y=function(){function t(n){e(this,t),this.triviaGameService=n,this.difficulties=["easy","medium","hard"],this.numberOfQuestions=[1,2,3,4,5,10,12,15,17,20,22,25,30],this.selectedDifficulty="easy",this.selectedAmount=5}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.triviaGameService.getCategories().subscribe((function(t){e.triviaCategories=t,e.selectedCategoryId=e.triviaCategories[0].id}))}},{key:"onStart",value:function(){this.triviaGameService.startNewGame(this.selectedCategoryId,this.selectedDifficulty,this.selectedAmount)}}]),t}()).\u0275fac=function(e){return new(e||y)(a.Lb(d))},y.\u0275cmp=a.Fb({type:y,selectors:[["frontend-sessions-start-screen"]],decls:20,vars:6,consts:[[1,"subtitle"],["id","category",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["id","difficulty",3,"ngModel","ngModelChange"],["id","start",3,"click"],[3,"value"]],template:function(e,t){1&e&&(a.Qb(0,"p"),a.zc(1,"Welcome!"),a.Pb(),a.Qb(2,"div",0),a.zc(3," Select a Category\n"),a.Pb(),a.Qb(4,"div"),a.Qb(5,"select",1),a.bc("ngModelChange",(function(e){return t.selectedCategoryId=e})),a.xc(6,g,2,2,"option",2),a.Pb(),a.Pb(),a.Qb(7,"div",0),a.zc(8," Select a Difficulty\n"),a.Pb(),a.Qb(9,"div"),a.Qb(10,"select",3),a.bc("ngModelChange",(function(e){return t.selectedDifficulty=e})),a.xc(11,m,2,2,"option",2),a.Pb(),a.Pb(),a.Qb(12,"div",0),a.zc(13," Select Number of Questions\n"),a.Pb(),a.Qb(14,"div"),a.Qb(15,"select",3),a.bc("ngModelChange",(function(e){return t.selectedAmount=e})),a.xc(16,v,2,2,"option",2),a.Pb(),a.Pb(),a.Qb(17,"div"),a.Qb(18,"button",4),a.bc("click",(function(){return t.onStart()})),a.zc(19,"Start!"),a.Pb(),a.Pb()),2&e&&(a.yb(5),a.ic("ngModel",t.selectedCategoryId),a.yb(1),a.ic("ngForOf",t.triviaCategories),a.yb(4),a.ic("ngModel",t.selectedDifficulty),a.yb(1),a.ic("ngForOf",t.difficulties),a.yb(4),a.ic("ngModel",t.selectedAmount),a.yb(1),a.ic("ngForOf",t.numberOfQuestions))},directives:[h.m,h.h,h.j,s.k,h.k,h.o],styles:["*[_ngcontent-%COMP%]{background-color:#23252d;color:#42f4ee;font-family:monospace}p[_ngcontent-%COMP%]{font-weight:700;font-size:5em}.subtitle[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:Helvetica,sans-serif;text-align:center}.subtitle[_ngcontent-%COMP%]{font-size:2em;padding-bottom:.2em}select[_ngcontent-%COMP%]{font-size:1.5em;border-color:#42f4ee;background-color:#bff;border-radius:5px}option[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{align-content:center;color:#23252d}option[_ngcontent-%COMP%]{background-color:#dff}div[_ngcontent-%COMP%]{text-align:center;margin:auto;padding-bottom:4em}button[_ngcontent-%COMP%]{background-color:#42f4ef;border-color:#42f4ee;border-radius:5px;font-weight:300;font-size:2.5em;color:#23252d;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}"]}),y),C=((p=function(){function t(){e(this,t)}return n(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||p)},p.\u0275cmp=a.Fb({type:p,selectors:[["frontend-sessions-life-meter"]],inputs:{life:"life"},decls:4,vars:1,template:function(e,t){1&e&&(a.Qb(0,"h2"),a.zc(1,"Life Meter:"),a.Pb(),a.Qb(2,"div"),a.zc(3),a.Pb()),2&e&&(a.yb(3),a.Bc("Current life: ",t.life,""))},styles:["*[_ngcontent-%COMP%]{background-color:#23252d;color:#42f4ee;font-family:monospace}"]}),p);function P(e,t){if(1&e){var n=a.Rb();a.Qb(0,"li"),a.Qb(1,"div"),a.Qb(2,"button",5),a.bc("click",(function(){a.rc(n);var e=t.$implicit;return a.dc().chooseAnswer(e)})),a.zc(3),a.Pb(),a.Pb(),a.Pb()}if(2&e){var i=t.$implicit,r=t.index;a.yb(3),a.Cc(" ",r+1,") ",i,"")}}function Q(e,t){if(1&e&&(a.Qb(0,"div"),a.zc(1),a.Pb()),2&e){var n=a.dc();a.yb(1),a.Bc('My guess: "',n.chosenAnswer,'"')}}var A,M,_,O,S=[{path:"question",component:(M=function(){function t(n){e(this,t),this.triviaGameService=n,this.chosenAnswer=""}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.question=this.triviaGameService.currentGame.currentQuestion,this.triviaGameService.currentGame.questions$.subscribe((function(t){return e.question=t})),this.life=this.triviaGameService.currentGame.currentLife,this.triviaGameService.currentGame.life$.subscribe((function(t){return e.life=t}))}},{key:"chooseAnswer",value:function(e){this.chosenAnswer=e}},{key:"onSubmit",value:function(){this.triviaGameService.currentGame.submitAnswer(this.chosenAnswer),this.chosenAnswer=""}}]),t}(),M.\u0275fac=function(e){return new(e||M)(a.Lb(d))},M.\u0275cmp=a.Fb({type:M,selectors:[["frontend-sessions-question-screen"]],decls:15,vars:5,consts:[[3,"life"],[1,"question"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"submit",3,"disabled","click"],[1,"answer",3,"click"]],template:function(e,t){1&e&&(a.Mb(0,"frontend-sessions-life-meter",0),a.Mb(1,"div"),a.Mb(2,"div"),a.Mb(3,"div"),a.Mb(4,"div"),a.Qb(5,"div",1),a.zc(6),a.Pb(),a.xc(7,P,4,2,"li",2),a.xc(8,Q,2,1,"div",3),a.Mb(9,"div"),a.Mb(10,"div"),a.Mb(11,"div"),a.Qb(12,"div"),a.Qb(13,"button",4),a.bc("click",(function(){return t.onSubmit()})),a.zc(14,"Submit"),a.Pb(),a.Pb()),2&e&&(a.ic("life",t.life),a.yb(6),a.Bc("Q: ",t.question.question,""),a.yb(1),a.ic("ngForOf",t.question.shuffled_answers),a.yb(1),a.ic("ngIf",t.chosenAnswer),a.yb(5),a.ic("disabled",!t.chosenAnswer))},directives:[C,s.k,s.l],styles:["*[_ngcontent-%COMP%]{background-color:#23252d;color:#42f4ee;font-family:monospace}.question[_ngcontent-%COMP%]{font-size:2em;text-align:justify;padding-bottom:.7em;padding-left:1em;padding-right:1em}.question[_ngcontent-%COMP%], div[_ngcontent-%COMP%]{font-family:Helvetica,sans-serif}div[_ngcontent-%COMP%]{margin:auto;font-size:1em;text-align:center;padding-bottom:.5em}button[_ngcontent-%COMP%]{align-content:center;border-color:#42f4ee;color:#23252d;border-radius:5px}.answer[_ngcontent-%COMP%]{width:70%;font-weight:100;font-family:monospace;font-size:2em;text-align:left;background-color:#bff}.submit[_ngcontent-%COMP%]{background-color:#42f4ef;font-weight:300;font-size:2.5em;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}"]}),M)},{path:"game-over",component:(A=function(){function t(n,i,r){e(this,t),this.router=n,this.route=i,this.triviaGameService=r}return n(t,[{key:"ngOnInit",value:function(){this.correctAnswerCount=this.triviaGameService.currentGame.correctAnswerCount,this.incorrectAnswerCount=this.triviaGameService.currentGame.incorrectAnswerCount,this.totalQuestionCount=this.triviaGameService.currentGame.totalQuestionCount,this.percent=(100*Number(this.correctAnswerCount/this.totalQuestionCount)).toFixed(2)}},{key:"onNewGame",value:function(){this.router.navigate(["trivia/start"],{relativeTo:this.route})}}]),t}(),A.\u0275fac=function(e){return new(e||A)(a.Lb(c.g),a.Lb(c.a),a.Lb(d))},A.\u0275cmp=a.Fb({type:A,selectors:[["frontend-sessions-game-over"]],decls:26,vars:4,consts:[[1,"table"],["scope","row"],[3,"click"]],template:function(e,t){1&e&&(a.Qb(0,"div"),a.Qb(1,"p"),a.zc(2,"GAME SCORE"),a.Pb(),a.Qb(3,"h2"),a.zc(4),a.Pb(),a.Qb(5,"table",0),a.Mb(6,"thead"),a.Qb(7,"tbody"),a.Qb(8,"tr"),a.Qb(9,"th",1),a.zc(10,"Total Questions"),a.Pb(),a.Qb(11,"td"),a.zc(12),a.Pb(),a.Pb(),a.Qb(13,"tr"),a.Qb(14,"th",1),a.zc(15,"Correct Answers"),a.Pb(),a.Qb(16,"td"),a.zc(17),a.Pb(),a.Pb(),a.Qb(18,"tr"),a.Qb(19,"th",1),a.zc(20,"Incorrect Answers"),a.Pb(),a.Qb(21,"td"),a.zc(22),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Qb(23,"div"),a.Qb(24,"button",2),a.bc("click",(function(){return t.onNewGame()})),a.zc(25,"New Game"),a.Pb(),a.Pb()),2&e&&(a.yb(4),a.Bc("",t.percent," %"),a.yb(8),a.Ac(t.totalQuestionCount),a.yb(5),a.Ac(t.correctAnswerCount),a.yb(5),a.Ac(t.incorrectAnswerCount))},styles:["*[_ngcontent-%COMP%]{background-color:#23252d;color:#42f4ee;font-family:monospace}p[_ngcontent-%COMP%]{font-family:Helvetica,sans-serif;font-weight:700;font-size:5em;padding:0}div[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{text-align:center}div[_ngcontent-%COMP%]{margin:auto}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:5%;padding-bottom:0;font-size:10em}button[_ngcontent-%COMP%]{background-color:#42f4ef;border-color:#42f4ee;border-radius:5px;font-weight:300;font-size:2.5em;color:#23252d;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}"]}),A)},{path:"**",component:w}],k=((O=function t(){e(this,t)}).\u0275mod=a.Jb({type:O}),O.\u0275inj=a.Ib({factory:function(e){return new(e||O)},imports:[[c.i.forChild(S)],c.i]}),O),G=((_=function t(){e(this,t)}).\u0275mod=a.Jb({type:_}),_.\u0275inj=a.Ib({factory:function(e){return new(e||_)},imports:[[k,u.b,h.e,s.c]]}),_)}}])}();